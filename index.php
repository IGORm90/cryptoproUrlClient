<?php

    require_once 'xmlController.php';
    require_once 'requestController.php';

    $xmlWorker = new xmlController();
    $req = new RequestController();

    // $answ = 'MIAGCSqGSIb3DQEHAqCAMIACAQExDjAMBggqhQMHAQECAgUAMIAGCSqGSIb3DQEHAaCAJIAERDxzPgo8YyBuPSJWYWxpZGF0aW9uRXJyb3JzIj4KPHM+CjxhIG49Im51bWJlciI+OTk8L2E+Cjwvcz4KPC9jPgo8L3M+AAAAAAAAoIAwggWeMIIFCqADAgECAhED6mxyAN2tEpBAYOg1DQI1oTAKBggqhQMHAQEDAzCBtzEgMB4GCSqGSIb3DQEJARYRY3BjYUBjcnlwdG9wcm8ucnUxCzAJBgNVBAYTAlJVMRUwEwYDVQQIDAzQnNC+0YHQutCy0LAxFTATBgNVBAcMDNCc0L7RgdC60LLQsDElMCMGA1UECgwc0J7QntCeICLQmtCg0JjQn9Ci0J4t0J/QoNCeIjExMC8GA1UEAwwo0KPQpiDQmtCg0JjQn9Ci0J4t0J/QoNCeICjQk9Ce0KHQoiAyMDEyKTAeFw0yMTExMTEwNjQ2MzdaFw0yNjExMTEwNjU2MzdaMIGUMR0wGwYJKoZIhvcNAQkBFg5wa2lAYmtpLW9rYi5ydTEWMBQGA1UECgwN0JDQniAi0J7QmtCRIjEVMBMGA1UEBwwM0JzQvtGB0LrQstCwMQswCQYDVQQGEwJSVTE3MDUGA1UEAwwu0KLQtdGB0YLQvtCy0YvQuSDQv9C+0LvRjNC30L7QstCw0YLQtdC70YwgMjAyMTBmMB8GCCqFAwcBAQEBMBMGByqFAwICJAAGCCqFAwcBAQICA0MABECX0ds0ZubcM8b/qrsnKv/+OdRL3H/2RZcLShNx8xrxgBDnfvoiZyEQbDXjkjcgt/AXoDMlTW+8bY97RjxC+OUEo4IDCTCCAwUwDgYDVR0PAQH/BAQDAgPoMB0GA1UdDgQWBBT4LCBj/Ru4Neflue53QL8svm1HuTAzBgkrBgEEAYI3FQcEJjAkBhwqhQMCAjIBCYfW4iq5kVSFhZM2h/ClHLMrg8MkAgEBAgEAMCYGA1UdJQQfMB0GCCsGAQUFBwMCBggrBgEFBQcDBAYHKoUDAgIiBjCBoQYIKwYBBQUHAQEEgZQwgZEwNgYIKwYBBQUHMAGGKmh0dHA6Ly9vY3NwLmNyeXB0b3Byby5ydS9vY3NwMjAxMi9vY3NwLnNyZjBXBggrBgEFBQcwAoZLaHR0cDovL2NwY2EyMC5jcnlwdG9wcm8ucnUvYWlhLzFkNWM1OGMwM2ZlYjQ0MDdjZjg4OGRhZmFlNTM4MmJiNzc4ZWQ0NjQuY3J0MCsGA1UdEAQkMCKADzIwMjExMTExMDY0NjM2WoEPMjAyMjExMTEwNjQ2MzZaMIGuBgNVHR8EgaYwgaMwTqBMoEqGSGh0dHA6Ly9jZHAuY3J5cHRvcHJvLnJ1L2NkcC8xZDVjNThjMDNmZWI0NDA3Y2Y4ODhkYWZhZTUzODJiYjc3OGVkNDY0LmNybDBRoE+gTYZLaHR0cDovL2NwY2EyMC5jcnlwdG9wcm8ucnUvY2RwLzFkNWM1OGMwM2ZlYjQ0MDdjZjg4OGRhZmFlNTM4MmJiNzc4ZWQ0NjQuY3JsMIH0BgNVHSMEgewwgemAFB1cWMA/60QHz4iNr65Tgrt3jtRkoYG9pIG6MIG3MSAwHgYJKoZIhvcNAQkBFhFjcGNhQGNyeXB0b3Byby5ydTELMAkGA1UEBhMCUlUxFTATBgNVBAgMDNCc0L7RgdC60LLQsDEVMBMGA1UEBwwM0JzQvtGB0LrQstCwMSUwIwYDVQQKDBzQntCe0J4gItCa0KDQmNCf0KLQni3Qn9Cg0J4iMTEwLwYDVQQDDCjQo9CmINCa0KDQmNCf0KLQni3Qn9Cg0J4gKNCT0J7QodCiIDIwMTIpghEDF74zAcGsF6lIz0aoxPRvTTAKBggqhQMHAQEDAwOBgQCrMvwKE71sUtabwWDuFAcXQD6YjkiLyTKy1yR7IIQa4+mrruggD1bQQF7mLI69Qc3Qk+KOvBU1sxkkHG/ibVNredQ4Kzbfx6YhkfO6fm534qgljrOdsyFm8Cwslx/ROv8LHEG7LJFcZbBeL0kH/LKIiGAIyeeKZRZnM4y5Gs+zzjCCA7gwggMkoAMCAQICEQMXvjMBwawXqUjPRqjE9G9NMAoGCCqFAwcBAQMDMIG3MSAwHgYJKoZIhvcNAQkBFhFjcGNhQGNyeXB0b3Byby5ydTELMAkGA1UEBhMCUlUxFTATBgNVBAgMDNCc0L7RgdC60LLQsDEVMBMGA1UEBwwM0JzQvtGB0LrQstCwMSUwIwYDVQQKDBzQntCe0J4gItCa0KDQmNCf0KLQni3Qn9Cg0J4iMTEwLwYDVQQDDCjQo9CmINCa0KDQmNCf0KLQni3Qn9Cg0J4gKNCT0J7QodCiIDIwMTIpMB4XDTIxMDEzMTE4MzAyOFoXDTM2MDEzMTE4MzAyOFowgbcxIDAeBgkqhkiG9w0BCQEWEWNwY2FAY3J5cHRvcHJvLnJ1MQswCQYDVQQGEwJSVTEVMBMGA1UECAwM0JzQvtGB0LrQstCwMRUwEwYDVQQHDAzQnNC+0YHQutCy0LAxJTAjBgNVBAoMHNCe0J7QniAi0JrQoNCY0J/QotCeLdCf0KDQniIxMTAvBgNVBAMMKNCj0KYg0JrQoNCY0J/QotCeLdCf0KDQniAo0JPQntCh0KIgMjAxMikwgaowIQYIKoUDBwEBAQIwFQYJKoUDBwECAQIBBggqhQMHAQECAwOBhAAEgYDM1S41XDSDahtVyrckSe1hKriHJ1CkxMw+fu5wOZu2MPGneEnmiQwjuAo32jJdgHRkOpjSWrr/jJC0upj3ALy3+A0cbv7dLuZyLIkqKSV11xvsSAQU+A12KkrmDlRAUBDmZlioPGZRN0I66ktgMJ6BJlqJftE+8hR/6ryjE4CblKOBvDCBuTAOBgNVHQ8BAf8EBAMCAYYwHQYDVR0OBBYEFB1cWMA/60QHz4iNr65Tgrt3jtRkMA8GA1UdEwEB/wQFMAMBAf8wLwYDVR0gBCgwJjAIBgYqhQNkcQEwCAYGKoUDZHECMAgGBiqFA2RxAzAGBgRVHSAAMBEGCSsGAQQBgjcUAgQEDAJDQTASBgkrBgEEAYI3FQEEBQIDAwADMB8GCSsGAQQBgjcVBwQSMBAGCCqFAwICLgAAAgEBAgEAMAoGCCqFAwcBAQMDA4GBAL9Eia/Iba81KJg2wejdQOIg4/2lrIgjt2EFWvs6C6ihajIQeUAms/J9QMXI5GGvXyZjPb7792ZQbo1f55X9eg8lgzyjCHs/8KRMr3l0256UC1JsHPXdZi8mjJNx2cWWmq95DvgQRHgGd6vhz3Oo6GV6LR3ugAbIJsHtmQ6qgwXZAAAxggGeMIIBmgIBATCBzTCBtzEgMB4GCSqGSIb3DQEJARYRY3BjYUBjcnlwdG9wcm8ucnUxCzAJBgNVBAYTAlJVMRUwEwYDVQQIDAzQnNC+0YHQutCy0LAxFTATBgNVBAcMDNCc0L7RgdC60LLQsDElMCMGA1UECgwc0J7QntCeICLQmtCg0JjQn9Ci0J4t0J/QoNCeIjExMC8GA1UEAwwo0KPQpiDQmtCg0JjQn9Ci0J4t0J/QoNCeICjQk9Ce0KHQoiAyMDEyKQIRA+pscgDdrRKQQGDoNQ0CNaEwDAYIKoUDBwEBAgIFAKBpMBgGCSqGSIb3DQEJAzELBgkqhkiG9w0BBwEwHAYJKoZIhvcNAQkFMQ8XDTIyMDMyNzEzNTIxOVowLwYJKoZIhvcNAQkEMSIEIMltrXwzO2DGGMxLp0xVMtNzcyzW7cj4dA0OpUtk69NJMAoGCCqFAwcBAQMCBEBbTnRMz+GSlllRav9ioGp9kcWr12JK/uSq+NhBwchtEKBeHvs3k8XTuObIb9zcdy6b5U9dUSwmumSmL6BZgYceAAAAAAAA';

    // //$str = $xmlWorker->prepareXML($req->decodeAnswer($answ));
    // $str = file_get_contents('file.xml');

    // echo '<pre>';
    // var_dump($xmlWorker->getError($str));
    // //var_dump($str);
    // echo '</pre>';

    $errorMes = file_get_contents('error.txt');
    
    var_dump($req->checkServerError($errorMes));

